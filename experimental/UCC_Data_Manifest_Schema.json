{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "UCC Data Manifest Schema",
  "type": "object",
  "required": [
    "manifest_version",
    "ucc_version",
    "dataset_id",
    "title",
    "created_utc",
    "provenance",
    "variables",
    "records"
  ],
  "properties": {
    "manifest_version": {
      "type": "string"
    },
    "ucc_version": {
      "type": "string"
    },
    "dataset_id": {
      "type": "string"
    },
    "title": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "created_utc": {
      "type": "string",
      "format": "date-time"
    },
    "updated_utc": {
      "type": "string",
      "format": "date-time"
    },
    "provenance": {
      "type": "object",
      "required": [
        "lab",
        "lead_author"
      ],
      "properties": {
        "doi": {
          "type": "string"
        },
        "lab": {
          "type": "object",
          "required": [
            "name",
            "institution"
          ],
          "properties": {
            "name": {
              "type": "string"
            },
            "institution": {
              "type": "string"
            },
            "contact_email": {
              "type": "string"
            }
          }
        },
        "lead_author": {
          "type": "string"
        },
        "contributors": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "shepherd_certificate_id": {
          "type": "string"
        },
        "ethics_board_approval_id": {
          "type": "string"
        }
      }
    },
    "domains": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "instruments": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "variables": {
      "type": "object",
      "additionalProperties": {
        "type": "object"
      }
    },
    "records": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "record_id",
          "domain",
          "timestamp_utc",
          "measurements",
          "hashes"
        ],
        "properties": {
          "record_id": {
            "type": "string"
          },
          "domain": {
            "type": "string"
          },
          "timestamp_utc": {
            "type": "string",
            "format": "date-time"
          },
          "location": {
            "type": "object"
          },
          "instrument_id": {
            "type": "string"
          },
          "subject": {
            "type": "object"
          },
          "conditions": {
            "type": "object"
          },
          "measurements": {
            "type": "object"
          },
          "hashes": {
            "type": "object",
            "required": [
              "raw_data_sha256"
            ],
            "properties": {
              "raw_data_sha256": {
                "type": "string"
              },
              "processed_data_sha256": {
                "type": "string"
              }
            }
          },
          "files": {
            "type": "object"
          },
          "validation": {
            "type": "object"
          }
        }
      }
    },
    "analysis": {
      "type": "object"
    },
    "governance": {
      "type": "object"
    }
  }
}